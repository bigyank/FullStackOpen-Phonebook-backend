{"version":3,"sources":["services/persons.js","components/Input.js","components/Form.js","components/DeleteBtn.js","components/Display.js","components/Search.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","post","id","put","concat","delete","Input","onChange","name","Form","addPerson","handleInputName","handleInputPhone","onSubmit","type","DeleteBtn","onClick","DisplayPerson","phonebook","keyWord","deletePerson","map","person","key","number","match","filter","item","toLowerCase","includes","Search","handleSearch","Notification","notification","className","message","App","useState","persons","setPersons","newName","setNewName","newPhone","setPhone","searchName","setSearchName","setNotification","useEffect","personService","notifyWith","setTimeout","event","target","value","preventDefault","oldPerson","find","newPerson","window","confirm","changedPerson","updatePerson","catch","e","console","log","error","Display","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.234ecacb.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons/\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseURL).then((response) => response.data);\r\n};\r\n\r\nconst postPerson = (data) => {\r\n  return axios.post(baseURL, data).then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (id, data) => {\r\n  return axios.put(baseURL.concat(id), data).then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(baseURL.concat(id));\r\n};\r\n\r\nexport default { getAll, postPerson, updatePerson, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Input = ({ onChange, name }) => (\r\n  <div>\r\n    {name} <input onChange={onChange}></input>\r\n  </div>\r\n);\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport Input from \"./Input\";\r\n\r\nconst Form = ({ addPerson, handleInputName, handleInputPhone }) => {\r\n  return (\r\n    <div>\r\n      <h2>Add a New Phone Book</h2>\r\n      <form onSubmit={addPerson}>\r\n        <Input name=\"Name\" onChange={handleInputName} />\r\n        <Input name=\"Phone\" onChange={handleInputPhone} />\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst DeleteBtn = ({ name, id, onClick }) => {\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        onClick(name, id);\r\n      }}\r\n    >\r\n      Delete\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DeleteBtn;\r\n","import React from \"react\";\r\nimport DeleteBtn from \"./DeleteBtn\";\r\n\r\nconst DisplayPerson = ({ phonebook, keyWord, deletePerson }) => {\r\n  if (!keyWord) {\r\n    return (\r\n      <div>\r\n        <h2>Contacts</h2>\r\n        {phonebook.map((person) => (\r\n          <p key={person.id}>\r\n            {person.name} {person.number}\r\n            <DeleteBtn\r\n              name={person.name}\r\n              id={person.id}\r\n              onClick={deletePerson}\r\n            />\r\n          </p>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const match = phonebook.filter((item) =>\r\n    item.name.toLowerCase().includes(keyWord.toLowerCase())\r\n  );\r\n  return (\r\n    <div>\r\n      <h2>Search Results</h2>\r\n      {match.map((person) => (\r\n        <p key={person.id}>\r\n          {person.name} {person.number}\r\n          <DeleteBtn name={person.name} id={person.id} onClick={deletePerson} />\r\n        </p>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DisplayPerson;\r\n","import React from \"react\";\r\nimport Input from \"./Input\";\r\n\r\nconst Search = ({ handleSearch }) => {\r\n  return (\r\n    <div>\r\n      <Input name=\"Search\" onChange={handleSearch}></Input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification == null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={notification.type}>\r\n      <p>{notification.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport Form from \"./components/Form\";\r\nimport DisplayPerson from \"./components/Display\";\r\nimport Search from \"./components/Search\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newPhone, setPhone] = useState(\"\");\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(setPersons);\r\n  }, []);\r\n\r\n  const notifyWith = (message, type = \"success\") => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 5000);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const oldPerson = persons.find(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    );\r\n    const newPerson = { ...oldPerson, name: newName, number: newPhone };\r\n    if (oldPerson) {\r\n      const replaceNum = window.confirm(\r\n        `${newName} is already added to the phone book\r\n        Do you want to replace the Number?`\r\n      );\r\n      if (!replaceNum) {\r\n        return null;\r\n      }\r\n      return personService\r\n        .updatePerson(newPerson.id, newPerson)\r\n        .then((changedPerson) => {\r\n          const updatedPersons = persons.map((person) =>\r\n            person.id !== newPerson.id ? person : changedPerson\r\n          );\r\n          return updatedPersons;\r\n        })\r\n        .then((updatePerson) => {\r\n          setPersons(updatePerson);\r\n          notifyWith(`${newPerson.name} updated sucessfully`);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          notifyWith(`unable to update ${newPerson.name}`, \"error\");\r\n        });\r\n    }\r\n\r\n    personService\r\n      .postPerson(newPerson)\r\n      .then((response) => {\r\n        setPersons([...persons, response]);\r\n        notifyWith(`${newPerson.name} added sucessfully`);\r\n      })\r\n      .catch((e) => {\r\n        notifyWith(`${e.response.data.error}`, \"error\");\r\n      });\r\n  };\r\n\r\n  const deletePerson = (name, id) => {\r\n    const result = window.confirm(`Delete ${name}`);\r\n    if (!result) {\r\n      return null;\r\n    }\r\n    const newPersons = persons.filter((person) => person.id !== id);\r\n    personService\r\n      .deletePerson(id)\r\n      .then(() => {\r\n        setPersons(newPersons);\r\n        notifyWith(`Deleted ${name}`, \"error\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        notifyWith(`Unable to delete ${name}`, \"error\");\r\n      });\r\n  };\r\n\r\n  const handleInputName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleInputPhone = (event) => {\r\n    setPhone(event.target.value);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchName(event.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification notification={notification} />\r\n      <Search handleSearch={handleSearch} />\r\n      <Form\r\n        addPerson={addPerson}\r\n        handleInputName={handleInputName}\r\n        handleInputPhone={handleInputPhone}\r\n      />\r\n      <DisplayPerson\r\n        phonebook={persons}\r\n        keyWord={searchName}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}