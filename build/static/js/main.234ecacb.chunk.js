(this.webpackJsonp3=this.webpackJsonp3||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},23:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(15),o=t.n(c),u=(t(23),t(16)),l=t(17),i=t(2),m=t(4),d=t.n(m),f="/api/persons/",s=function(){return d.a.get(f).then((function(e){return e.data}))},h=function(e){return d.a.post(f,e).then((function(e){return e.data}))},p=function(e,n){return d.a.put(f.concat(e),n).then((function(e){return e.data}))},E=function(e){return d.a.delete(f.concat(e))},b=function(e){var n=e.onChange,t=e.name;return r.a.createElement("div",null,t," ",r.a.createElement("input",{onChange:n}))},v=function(e){var n=e.addPerson,t=e.handleInputName,a=e.handleInputPhone;return r.a.createElement("div",null,r.a.createElement("h2",null,"Add a New Phone Book"),r.a.createElement("form",{onSubmit:n},r.a.createElement(b,{name:"Name",onChange:t}),r.a.createElement(b,{name:"Phone",onChange:a}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},g=function(e){var n=e.name,t=e.id,a=e.onClick;return r.a.createElement("button",{onClick:function(){a(n,t)}},"Delete")},k=function(e){var n=e.phonebook,t=e.keyWord,a=e.deletePerson;if(!t)return r.a.createElement("div",null,r.a.createElement("h2",null,"Contacts"),n.map((function(e){return r.a.createElement("p",{key:e.id},e.name," ",e.number,r.a.createElement(g,{name:e.name,id:e.id,onClick:a}))})));var c=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Search Results"),c.map((function(e){return r.a.createElement("p",{key:e.id},e.name," ",e.number,r.a.createElement(g,{name:e.name,id:e.id,onClick:a}))})))},C=function(e){var n=e.handleSearch;return r.a.createElement("div",null,r.a.createElement(b,{name:"Search",onChange:n}))},j=function(e){var n=e.notification;return null==n?null:r.a.createElement("div",{className:n.type},r.a.createElement("p",null,n.message))},O=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),m=Object(i.a)(o,2),d=m[0],f=m[1],b=Object(a.useState)(""),g=Object(i.a)(b,2),O=g[0],w=g[1],y=Object(a.useState)(""),S=Object(i.a)(y,2),P=S[0],N=S[1],D=Object(a.useState)(null),I=Object(i.a)(D,2),L=I[0],B=I[1];Object(a.useEffect)((function(){s().then(c)}),[]);var J=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";B({message:e,type:n}),setTimeout((function(){B(null)}),5e3)};return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(j,{notification:L}),r.a.createElement(C,{handleSearch:function(e){N(e.target.value)}}),r.a.createElement(v,{addPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===d.toLowerCase()})),a=Object(l.a)({},n,{name:d,number:O});if(n)return window.confirm("".concat(d," is already added to the phone book\n        Do you want to replace the Number?"))?p(a.id,a).then((function(e){return t.map((function(n){return n.id!==a.id?n:e}))})).then((function(e){c(e),J("".concat(a.name," updated sucessfully"))})).catch((function(e){console.log(e),J("unable to update ".concat(a.name),"error")})):null;h(a).then((function(e){c([].concat(Object(u.a)(t),[e])),J("".concat(a.name," added sucessfully"))})).catch((function(e){J("".concat(e.response.data.error),"error")}))},handleInputName:function(e){f(e.target.value)},handleInputPhone:function(e){w(e.target.value)}}),r.a.createElement(k,{phonebook:t,keyWord:P,deletePerson:function(e,n){if(!window.confirm("Delete ".concat(e)))return null;var a=t.filter((function(e){return e.id!==n}));E(n).then((function(){c(a),J("Deleted ".concat(e),"error")})).catch((function(n){console.log(n),J("Unable to delete ".concat(e),"error")}))}}))};o.a.render(r.a.createElement(O,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.234ecacb.chunk.js.map