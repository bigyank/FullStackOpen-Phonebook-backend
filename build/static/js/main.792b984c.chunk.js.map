{"version":3,"sources":["services/persons.js","components/Input.js","components/Form.js","components/DeleteBtn.js","components/Display.js","components/Search.js","components/Notification.js","App.js","index.js"],"names":["baseURL","axios","get","then","response","data","post","id","put","concat","delete","Input","onChange","name","Form","addPerson","handleInputName","handleInputPhone","onSubmit","type","DeleteBtn","onClick","DisplayPerson","phonebook","keyWord","deletePerson","filter","item","toLowerCase","includes","map","person","key","number","Search","handleSearch","Notification","notification","className","message","App","useState","persons","setPersons","newName","setNewName","newPhone","setPhone","searchName","setSearchName","setNotification","useEffect","personService","notifyWith","setTimeout","event","target","value","preventDefault","oldPerson","find","newPerson","window","confirm","changedPerson","updatePerson","catch","e","console","log","Display","newPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.792b984c.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseURL).then((response) => response.data);\r\n};\r\n\r\nconst postPerson = (data) => {\r\n  return axios.post(baseURL, data).then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (id, data) => {\r\n  return axios\r\n    .put(baseURL.concat(\"/\", id), data)\r\n    .then((response) => response.data);\r\n};\r\n\r\nconst deletePerson = (id) => {\r\n  return axios.delete(baseURL.concat(\"/\", id));\r\n};\r\n\r\nexport default { getAll, postPerson, updatePerson, deletePerson };\r\n","import React from \"react\";\r\n\r\nconst Input = ({ onChange, name }) => (\r\n  <div>\r\n    {name} <input onChange={onChange}></input>\r\n  </div>\r\n);\r\n\r\nexport default Input;\r\n","import React from \"react\";\r\nimport Input from \"./Input\";\r\n\r\nconst Form = ({ addPerson, handleInputName, handleInputPhone }) => {\r\n  return (\r\n    <div>\r\n      <h2>Add a New Phone Book</h2>\r\n      <form onSubmit={addPerson}>\r\n        <Input name=\"Name\" onChange={handleInputName} />\r\n        <Input name=\"Phone\" onChange={handleInputPhone} />\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nconst DeleteBtn = ({ name, id, onClick }) => {\r\n  return (\r\n    <button\r\n      onClick={() => {\r\n        onClick(name, id);\r\n      }}\r\n    >\r\n      Delete\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default DeleteBtn;\r\n","import React from \"react\";\r\nimport DeleteBtn from \"./DeleteBtn\";\r\n\r\nconst DisplayPerson = ({ phonebook, keyWord, deletePerson }) => {\r\n  if (!keyWord) {\r\n    return null;\r\n  }\r\n\r\n  const match = phonebook.filter((item) =>\r\n    item.name.toLowerCase().includes(keyWord.toLowerCase())\r\n  );\r\n  return match.map((person) => (\r\n    <p key={person.name}>\r\n      {person.name} {person.number}\r\n      <DeleteBtn name={person.name} id={person.id} onClick={deletePerson} />\r\n    </p>\r\n  ));\r\n};\r\n\r\nexport default DisplayPerson;\r\n","import React from \"react\";\r\nimport Input from \"./Input\";\r\n\r\nconst Search = ({ handleSearch }) => {\r\n  return (\r\n    <div>\r\n      <Input name=\"Search\" onChange={handleSearch}></Input>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ notification }) => {\r\n  if (notification == null) {\r\n    return null;\r\n  }\r\n  return (\r\n    <div className={notification.type}>\r\n      <p>{notification.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport personService from \"./services/persons\";\r\nimport Form from \"./components/Form\";\r\nimport DisplayPerson from \"./components/Display\";\r\nimport Search from \"./components/Search\";\r\nimport Notification from \"./components/Notification\";\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newPhone, setPhone] = useState(\"\");\r\n  const [searchName, setSearchName] = useState(\"\");\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(setPersons);\r\n  }, []);\r\n\r\n  const notifyWith = (message, type = \"success\") => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => {\r\n      setNotification(null);\r\n    }, 5000);\r\n  };\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const oldPerson = persons.find(\r\n      (person) => person.name.toLowerCase() === newName.toLowerCase()\r\n    );\r\n    const newPerson = { ...oldPerson, name: newName, number: newPhone };\r\n    if (oldPerson) {\r\n      const replaceNum = window.confirm(\r\n        `${newName} is already added to the phone book\r\n        Do you want to replace the Number?`\r\n      );\r\n      if (!replaceNum) {\r\n        return null;\r\n      }\r\n      return personService\r\n        .updatePerson(newPerson.id, newPerson)\r\n        .then((changedPerson) => {\r\n          const updatedPersons = persons.map((person) =>\r\n            person.id !== newPerson.id ? person : changedPerson\r\n          );\r\n          return updatedPersons;\r\n        })\r\n        .then((updatePerson) => {\r\n          setPersons(updatePerson);\r\n          notifyWith(`${newPerson.name} updated sucessfully`);\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          notifyWith(`unable to update ${newPerson.name}`, \"error\");\r\n        });\r\n    }\r\n\r\n    personService\r\n      .postPerson(newPerson)\r\n      .then((response) => {\r\n        setPersons([...persons, response]);\r\n        notifyWith(`${newPerson.name} added sucessfully`);\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        notifyWith(`Unable to add ${newPerson.name}`, \"error\");\r\n      });\r\n  };\r\n\r\n  const deletePerson = (name, id) => {\r\n    const result = window.confirm(`Delete ${name}`);\r\n    if (!result) {\r\n      return null;\r\n    }\r\n    const newPersons = persons.filter((person) => person.id !== id);\r\n    personService\r\n      .deletePerson(id)\r\n      .then(() => {\r\n        setPersons(newPersons);\r\n        notifyWith(`Deleted ${name}`, \"error\");\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        notifyWith(`Unable to delete ${name}`, \"error\");\r\n      });\r\n  };\r\n\r\n  const handleInputName = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleInputPhone = (event) => {\r\n    setPhone(event.target.value);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchName(event.target.value);\r\n  };\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <Notification notification={notification} />\r\n      <Search handleSearch={handleSearch} />\r\n      <Form\r\n        addPerson={addPerson}\r\n        handleInputName={handleInputName}\r\n        handleInputPhone={handleInputPhone}\r\n      />\r\n      <h2>Search Result</h2>\r\n      <DisplayPerson\r\n        phonebook={persons}\r\n        keyWord={searchName}\r\n        deletePerson={deletePerson}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}