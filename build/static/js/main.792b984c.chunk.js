(this.webpackJsonp3=this.webpackJsonp3||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},23:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),c=t(15),r=t.n(c),u=(t(23),t(16)),l=t(17),i=t(2),m=t(4),d=t.n(m),f="/api/persons",s=function(){return d.a.get(f).then((function(e){return e.data}))},h=function(e){return d.a.post(f,e).then((function(e){return e.data}))},b=function(e,n){return d.a.put(f.concat("/",e),n).then((function(e){return e.data}))},p=function(e){return d.a.delete(f.concat("/",e))},E=function(e){var n=e.onChange,t=e.name;return o.a.createElement("div",null,t," ",o.a.createElement("input",{onChange:n}))},v=function(e){var n=e.addPerson,t=e.handleInputName,a=e.handleInputPhone;return o.a.createElement("div",null,o.a.createElement("h2",null,"Add a New Phone Book"),o.a.createElement("form",{onSubmit:n},o.a.createElement(E,{name:"Name",onChange:t}),o.a.createElement(E,{name:"Phone",onChange:a}),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))))},g=function(e){var n=e.name,t=e.id,a=e.onClick;return o.a.createElement("button",{onClick:function(){a(n,t)}},"Delete")},j=function(e){var n=e.phonebook,t=e.keyWord,a=e.deletePerson;return t?n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return o.a.createElement("p",{key:e.name},e.name," ",e.number,o.a.createElement(g,{name:e.name,id:e.id,onClick:a}))})):null},k=function(e){var n=e.handleSearch;return o.a.createElement("div",null,o.a.createElement(E,{name:"Search",onChange:n}))},O=function(e){var n=e.notification;return null==n?null:o.a.createElement("div",{className:n.type},o.a.createElement("p",null,n.message))},w=function(){var e=Object(a.useState)([]),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),m=Object(i.a)(r,2),d=m[0],f=m[1],E=Object(a.useState)(""),g=Object(i.a)(E,2),w=g[0],C=g[1],y=Object(a.useState)(""),S=Object(i.a)(y,2),P=S[0],N=S[1],D=Object(a.useState)(null),I=Object(i.a)(D,2),L=I[0],B=I[1];Object(a.useEffect)((function(){s().then(c)}),[]);var J=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";B({message:e,type:n}),setTimeout((function(){B(null)}),5e3)};return o.a.createElement("div",null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(O,{notification:L}),o.a.createElement(k,{handleSearch:function(e){N(e.target.value)}}),o.a.createElement(v,{addPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name.toLowerCase()===d.toLowerCase()})),a=Object(l.a)({},n,{name:d,number:w});if(n)return window.confirm("".concat(d," is already added to the phone book\n        Do you want to replace the Number?"))?b(a.id,a).then((function(e){return t.map((function(n){return n.id!==a.id?n:e}))})).then((function(e){c(e),J("".concat(a.name," updated sucessfully"))})).catch((function(e){console.log(e),J("unable to update ".concat(a.name),"error")})):null;h(a).then((function(e){c([].concat(Object(u.a)(t),[e])),J("".concat(a.name," added sucessfully"))})).catch((function(e){console.log(e),J("Unable to add ".concat(a.name),"error")}))},handleInputName:function(e){f(e.target.value)},handleInputPhone:function(e){C(e.target.value)}}),o.a.createElement("h2",null,"Search Result"),o.a.createElement(j,{phonebook:t,keyWord:P,deletePerson:function(e,n){if(!window.confirm("Delete ".concat(e)))return null;var a=t.filter((function(e){return e.id!==n}));p(n).then((function(){c(a),J("Deleted ".concat(e),"error")})).catch((function(n){console.log(n),J("Unable to delete ".concat(e),"error")}))}}))};r.a.render(o.a.createElement(w,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.792b984c.chunk.js.map